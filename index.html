<!DOCTYPE html>
<html>
  <head>
    <title>Acknowledge Report</title>
  </head>
  <body>
    <h2>âœ… Report Viewed</h2>

    <script>
      // Extract query parameters
      const params = new URLSearchParams(window.location.search);
      const user = params.get('user') || 'unknown';
      const report = params.get('report') || 'unspecified';

      // Send both to backend
      fetch(`http://127.0.0.1:8000/alert?user=${encodeURIComponent(user)}&report=${encodeURIComponent(report)}`)
        .then(res => console.log(`Alert sent for ${user}, report: ${report}`))
        .catch(err => console.error("Failed to send alert"));
    </script>
  </body>
</html>
